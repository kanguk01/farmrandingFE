<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- DNS 연결 미리 설정 - 더 많은 CDN 추가 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://fonts.bunny.net" crossorigin>
    
    <!-- 핵심 폰트 preload - 모든 가능한 백업 URL -->
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.0/JalnanOTF00.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.0/JalnanOTF00.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.2/JalnanOTF00.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/ea/jalnan/v1/JalnanOTF.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/ea/jalnan/v1/JalnanOTF.woff" as="font" type="font/woff" crossorigin>
    
    <!-- Google Fonts preload - 백업 폰트도 빠르게 로딩 -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800;900&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- 강력한 폰트 로딩 최적화 -->
    <style>
      /* Jalnan 2 폰트 최우선 정의 */
      @font-face {
        font-family: 'Jalnan 2';
        src: url('/fonts/Jalnan2.otf') format('opentype'),
             url('/fonts/Jalnan2TTF.ttf') format('truetype');
        font-weight: normal;
        font-style: normal;
        font-display: swap;
      }
      
      /* Critical CSS - 폰트 로딩 전 기본 설정 */
      :root {
        --font-jalnan: 'Jalnan 2', 'Jalnan', 'JalnanForce', 'JalnanGoogleForce', 'JalnanAPI', 'JalnanAlt', 'JalnanLatest', 'yg-jalnan', 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', sans-serif;
        --font-jalnan-loaded: var(--font-jalnan);
        --font-weight-bold: 800;
      }
      
      /* 최우선 폰트 적용 */
      html, body, *, *::before, *::after {
        font-family: var(--font-jalnan-loaded) !important;
        font-weight: var(--font-weight-bold) !important;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* 브랜딩 플로우 특정 요소들에 강제 적용 */
      button, span, h1, h2, h3,
      .step-text, .step-number, .brand-title, .status-text, .nav-button, .regen-button {
        font-family: 'Jalnan 2', sans-serif !important;
        font-weight: 400 !important;
      }
      
      /* 즉시 적용되는 Jalnan 스타일 폰트 */
      @font-face {
        font-family: 'JalnanImmediate';
        src: url('data:font/woff2;base64,') format('woff2');
        font-weight: normal;
        font-style: normal;
        font-display: block;
      }
      
      /* 로딩 애니메이션 */
      @keyframes fontPulse {
        0%, 100% { font-weight: 700; }
        50% { font-weight: 900; }
      }
      
      .font-pulse {
        animation: fontPulse 1s ease-in-out infinite;
      }
    </style>
    
    <!-- 폰트 강제 로딩 스크립트 -->
    <script>
      // Jalnan 2 폰트 강제 로딩
      (function() {
        // 로컬 Jalnan 2 폰트 로딩
        const jalnan2Urls = [
          '/fonts/Jalnan2.otf',
          '/fonts/Jalnan2TTF.ttf'
        ];
        
        jalnan2Urls.forEach((url, index) => {
          const fontFace = new FontFace('Jalnan 2', `url(${url})`);
          fontFace.load().then(() => {
            document.fonts.add(fontFace);
            console.log(`✅ Jalnan 2 폰트 로딩 성공: ${url}`);
            
            // 폰트 로딩 후 즉시 적용
            document.documentElement.style.setProperty('--font-jalnan-loaded', "'Jalnan 2', sans-serif");
          }).catch(err => {
            console.warn(`⚠️ Jalnan 2 폰트 로딩 실패: ${url}`, err);
          });
        });
        
        // 백업 폰트 로딩
        const fontUrls = [
          'https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.0/JalnanOTF00.woff2',
          'https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_four@1.0/JalnanOTF00.woff2',
          'https://fonts.gstatic.com/ea/jalnan/v1/JalnanOTF.woff2'
        ];
        
        fontUrls.forEach((url, index) => {
          const fontFace = new FontFace(`JalnanPreload${index}`, `url(${url})`);
          fontFace.load().then(() => {
            document.fonts.add(fontFace);
            console.log(`✅ 백업 폰트 프리로드 성공: ${index}`);
          }).catch(err => {
            console.warn(`⚠️ 백업 폰트 프리로드 실패: ${index}`, err);
          });
        });
      })();
    </script>
    
    <!-- Jalnan 2 폰트 강제 로딩 -->
    <link rel="preload" href="/fonts/Jalnan2.otf" as="font" type="font/otf" crossorigin>
    <link rel="preload" href="/fonts/Jalnan2TTF.ttf" as="font" type="font/ttf" crossorigin>
    
    <title>팜랜딩</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
